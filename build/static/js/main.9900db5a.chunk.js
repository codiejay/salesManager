(this.webpackJsonpsalesmag=this.webpackJsonpsalesmag||[]).push([[0],{31:function(e,t,a){e.exports=a.p+"static/media/googleIcon.20608d5e.svg"},33:function(e,t,a){e.exports=a(69)},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},52:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){e.exports=a.p+"static/media/userIcon.6b4c7eba.svg"},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(30),l=a.n(o),r=(a(38),a(10)),s=a(2),i=a(3),m=(a(39),a(5)),d=a(6),u=(a(40),a(41),function(e){var t={background:"url(".concat(e.bttImg,") no-repeat center/contain"),width:"25px",height:"25px"};return c.a.createElement("div",{id:"bigBttn"},c.a.createElement("div",{className:"bttnImg",style:t}),c.a.createElement("button",null,c.a.createElement("h1",null,e.bttnTitle)))}),p=a(31),E=a.n(p),h=a(24),b=a.n(h);b.a.initializeApp({apiKey:"AIzaSyDbCEi0Mynj3hvW_x73fwybaRqjwAUGNBg",authDomain:"storemanager-dfe02.firebaseapp.com",databaseURL:"https://storemanager-dfe02.firebaseio.com",projectId:"storemanager-dfe02",storageBucket:"storemanager-dfe02.appspot.com",messagingSenderId:"279517551995",appId:"1:279517551995:web:e0751015370fce690571de",measurementId:"G-6LWQR0VLZH"});var g=b.a,f=function(e){var t=function(t){t.preventDefault(),l&&g.firestore().collection("approved").doc(e.approvedUser).get().then((function(t){if(t.data().secretPin.toString()===l){var a=new g.auth.GoogleAuthProvider;g.auth().signInWithPopup(a).then((function(t){g.firestore().collection("approved").doc(e.approvedUser).collection("admins").doc("".concat(t.user.displayName.split(" ")[0])).set({admin:t.user.displayName,adminEmail:t.user.email})}))}else alert("wrong, password")}))},a=Object(n.useState)(),o=Object(s.a)(a,2),l=o[0],r=o[1];return c.a.createElement("div",{id:"login"},c.a.createElement("div",{className:"userIcon"}),c.a.createElement("form",{onSubmit:t},c.a.createElement("input",{placeholder:"your approved pin",onChange:function(e){r(e.target.value)},type:"password"}),c.a.createElement(u,{bttImg:E.a,bttnTitle:"login with a google account",onClick:t})))},v=(a(52),function(e){var t=function(e){console.log()},a=Object(n.useState)(window.location.href.split("/")[3]),o=Object(s.a)(a,2),l=o[0];o[1];return c.a.createElement("div",{id:"sideBar"},c.a.createElement(m.b,{onClick:t,id:"addstock"===l?"currentBttn":"",to:"/addstock","data-name":"newstock"},"New Stock"),c.a.createElement(m.b,{to:"/addstore",onClick:t,id:"addstore"===l?"currentBttn":"","data-name":"newstore"},"New Store"),c.a.createElement(m.b,{onClick:t,to:"/manage",id:"manage"===l?"currentBttn":"","data-name":"manage"},"Manage"),c.a.createElement(m.b,{onClick:t,to:"/stocks",id:"stocks"===l?"currentBttn":"","data-name":"stocks"},"Stocks"))}),k=(a(57),a(58),function(e){var t={background:"url(".concat(e.userImg,") no-repeat center/contain"),borderRadius:"12px",transform:"scale(0.8)"};return c.a.createElement("nav",{id:"nav"},c.a.createElement(m.b,{to:"/store"},c.a.createElement("div",{id:"menuButton"},c.a.createElement("div",null))),c.a.createElement("div",{className:"userAvatar"},c.a.createElement("div",{style:t})),c.a.createElement("button",{onClick:e.signOut},"sign out"))}),O=(a(59),function(e){return e.loggedIn?c.a.createElement("div",{id:"storePage"},c.a.createElement(k,{signOut:e.signOut,userImg:e.userImg}),c.a.createElement("div",{id:"storeBody"},c.a.createElement(v,null),e.admin?c.a.createElement("div",{className:"storeMain"},c.a.createElement("div",{id:"cashStatus"},c.a.createElement("h3",null,e.cashTotal),c.a.createElement("p",null,"Today's sales in cash")),c.a.createElement("div",{id:"cashStatus"},c.a.createElement("h3",null,e.cashReturn),c.a.createElement("p",null,"Expected Cash Return")),c.a.createElement("div",{id:"cashStatus"},c.a.createElement("h3",null,e.cashProfit),c.a.createElement("p",null,"Expected Profit"))):"")):c.a.createElement(d.a,{to:"/"})}),j=(a(60),function(e){var t=function(e){switch(e.target.id){case"itemName":p(Object(i.a)(Object(i.a)({},u),{},{stockName:"".concat(e.target.value)}));break;case"itemQuantity":p(Object(i.a)(Object(i.a)({},u),{},{stockQuantity:parseInt(e.target.value)}));break;case"watchQuantity":p(Object(i.a)(Object(i.a)({},u),{},{stockWatchQuantity:parseInt(e.target.value)}));break;case"salesPrice":p(Object(i.a)(Object(i.a)({},u),{},{purchasePrice:parseInt(e.target.value)}));break;case"sellingPrice":p(Object(i.a)(Object(i.a)({},u),{},{sellingPrice:parseInt(e.target.value)}));break;case"purchaseStore":p(Object(i.a)(Object(i.a)({},u),{},{purchaseStore:e.target.value}))}},a=Object(n.useState)({buttonState:"regularButton",buttonClick:"formSubmitted"}),o=Object(s.a)(a,2),l=o[0],r=(o[1],Object(n.useState)({stockName:"",stockQuantity:0,stockWatchQuantity:0,sellingPrice:0,purchasePrice:0,lastUpdate:0,purchaseStore:""})),m=Object(s.a)(r,2),u=m[0],p=m[1],E=Object(n.useState)(e.addedStock),h=Object(s.a)(E,2),b=h[0],g=(h[1],Object(n.useState)("add to store")),f=Object(s.a)(g,2),O=(f[0],f[1],Object(n.useState)(e.ShowSucess)),j=Object(s.a)(O,2);j[0],j[1];return e.loggedIn?c.a.createElement("div",{id:"addStockPage"},c.a.createElement(k,{signOut:e.signOut,userImg:e.userImg}),c.a.createElement("div",{id:"addStockBody"},c.a.createElement(v,null),c.a.createElement("div",{className:"addStockMain"},c.a.createElement("div",{id:"header"},c.a.createElement("p",{className:"heading"},"add new item to store"),c.a.createElement("div",{className:"postStatus",style:{opacity:"".concat(e.ShowSucess?"1":"0")}},c.a.createElement("div",{className:"S"===b[0]?"success":"error"}),c.a.createElement("p",null,b))),c.a.createElement("form",{onSubmit:function(t){t.preventDefault(),u.stockName&&e.PushItem(u)}},c.a.createElement("div",{className:"formContent"},c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"itemName"},"item's name"),c.a.createElement("input",{onChange:t,type:"text",id:"itemName",placeholder:"techno 2020"})),c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"itemQuantity"},"item's quantity"),c.a.createElement("input",{onChange:t,type:"number",id:"itemQuantity",placeholder:"30"})),c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"watchQuantity"},"watch quantity"),c.a.createElement("input",{type:"number",onChange:t,id:"watchQuantity",placeholder:"4"})),c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"salesPrice"},"purchase price"),c.a.createElement("input",{onChange:t,type:"number",id:"salesPrice",placeholder:"purchase price",maxLength:"8"})),c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"sellingPrice"},"selling price"),c.a.createElement("input",{onChange:t,type:"number",id:"sellingPrice",placeholder:"selling price",maxLength:"8"})),c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"itemName"},"purchase store"),c.a.createElement("input",{onChange:t,type:"text",id:"purchaseStore",placeholder:"emcee solutons"}))),c.a.createElement("button",{className:l.buttonState},e.addStockBttn))))):c.a.createElement(d.a,{to:"/"})}),y=a(15),N=(a(61),function(e){return c.a.createElement(m.b,{id:e.itemId,className:"stockItem",to:"".concat(e.location).concat(e.itemId)},c.a.createElement("div",{className:"mainItem"},c.a.createElement("h3",{id:"itemName"}," ",e.itemName," "),c.a.createElement("h3",{id:"itemQuantity"}," ",e.itemQuantity," "),c.a.createElement("h3",{id:"itemLastUpdate"}," ",e.lastUpdate===parseInt(0)?e.itemLastUpdate.split(" ").join("/"):e.lastUpdate.split(" ").join("/")," ")))}),S=(a(62),function(e){var t=g.firestore().collection("approved").doc("bolu").collection("stock");Object(n.useEffect)((function(){h(1)}),[]);var a=function(e){switch(e.target.getAttribute("id")){case"currentStocks":m("current"),h(O.length);break;case"runningOut":m("runningout"),h(w.length);break;case"outofstock":m("outofstock"),h(U.length)}};Object(n.useEffect)((function(){var e=[];t.where("stockQuantity",">",0).get().then((function(t){t.docs.forEach((function(t){e.push(t.data())})),j(Object(y.a)(e)),e=[]}))}),[]),Object(n.useEffect)((function(){var e=[];t.get().then((function(t){t.docs.forEach((function(t){t.data().stockWatchQuantity===t.data().stockQuantity&&e.push(t.data())})),P(Object(y.a)(e)),e=[]}))}),[]),Object(n.useEffect)((function(){var e=[];g.firestore().collection("approved").doc("bolu").collection("stock").where("stockQuantity","==",0).get().then((function(t){t.docs.forEach((function(t){e.push(t.data())})),Q(Object(y.a)(e)),e=[]}))}),[]);var o=Object(n.useState)("current"),l=Object(s.a)(o,2),i=l[0],m=l[1],u=Object(n.useState)(1),p=Object(s.a)(u,2),E=p[0],h=p[1],b=Object(n.useState)([]),f=Object(s.a)(b,2),O=f[0],j=f[1],S=Object(n.useState)([]),I=Object(s.a)(S,2),w=I[0],P=I[1],C=Object(n.useState)([]),x=Object(s.a)(C,2),U=x[0],Q=x[1];return e.loggedIn?c.a.createElement("div",{id:"stocksPage"},c.a.createElement(k,{signOut:e.signOut,userImg:e.userImg}),c.a.createElement("div",{id:"stocksBody"},c.a.createElement(v,null),c.a.createElement("div",{className:"stocksMain"},c.a.createElement("div",{className:"header"},c.a.createElement("h3",null,"Stocks")),c.a.createElement("div",{className:"options"},c.a.createElement("div",{onClick:a,id:"current"===i?"current":"currentStocks"},"Current Stocks"),c.a.createElement("div",{onClick:a,id:"runningout"===i?"current":"runningOut"},"Running Out"),c.a.createElement("div",{onClick:a,id:"outofstock"===i?"current":"outofstock"},"Out Of Stock")),c.a.createElement("div",{className:"stocksList"},c.a.createElement("div",{className:"top"},c.a.createElement("h3",null,"Item Name"),c.a.createElement("h3",null,"Item Quantity"),c.a.createElement("h3",null,"Updated Date")),c.a.createElement("div",{className:"loadingBox",style:{display:E>0?"none":"grid"}},c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null)),c.a.createElement("div",{className:"stockBox",id:"mainStock",style:{display:"".concat("current"===i?"block":"none")}},O.map((function(e,t){var a=e.date.split(" ").join("/");return c.a.createElement(N,{location:"/stocks/",lastUpdate:e.lastUpdate,key:t,itemId:e.id,itemName:e.stockName,itemQuantity:e.stockQuantity,itemLastUpdate:a})}))),c.a.createElement("div",{className:"stockBox",id:"runningOut",style:{display:"".concat("runningout"===i?"block":"none")}},w.map((function(e,t){var a=e.date.split(" ").join("/");return c.a.createElement(N,{location:"/stocks/",lastUpdate:e.lastUpdate,key:t,itemId:e.id,itemName:e.stockName,itemQuantity:e.stockQuantity,itemLastUpdate:a})}))),c.a.createElement("div",{className:"stockBox",id:"outOfStock",style:{display:"".concat("outofstock"===i?"block":"none")}},U.map((function(e,t){var a=e.date.split(" ").join("/");return c.a.createElement(N,Object(r.a)({location:"/stocks/",lastUpdate:e.lastUpdate,key:t,itemId:e.id,itemName:e.stockName,itemQuantity:e.stockQuantity,itemLastUpdate:a},"lastUpdate",e.lastUpdate))}))))))):c.a.createElement(d.a,{to:"/store"})}),I=(a(63),function(e){e.redirectStockPageHandler(!0);var t=Object(d.g)(),a=new Date,o="".concat(a.getDate()," ").concat(a.getMonth()," ").concat(a.getFullYear()),l=function(e){switch(e.target.id){case"stockName":u(m,m.stockName=e.target.value),u(m,m.lastUpdate=o);break;case"stockQuantity":u(m,m.stockQuantity=parseInt(e.target.value)),u(m,m.lastUpdate=o);break;case"sellingPrice":u(m,m.sellingPrice=parseInt(e.target.value)),u(m,m.lastUpdate=o);break;case"purchasePrice":u(m,m.purchasePrice=parseInt(e.target.value)),u(m,m.lastUpdate=o);break;case"stockWatchQuantity":u(m,m.stockWatchQuantity=parseInt(e.target.value)),u(m,m.lastUpdate=o)}};Object(n.useEffect)((function(){g.firestore().collection("approved").doc(e.approvedUser).collection("stock").where("id","==",t.id).get().then((function(e){e.docs.forEach((function(e){var t=e.data();u(t),b(h=e.id)}))}))}),[]);var r=Object(n.useState)([]),i=Object(s.a)(r,2),m=i[0],u=i[1],p=Object(n.useState)(""),E=Object(s.a)(p,2),h=E[0],b=E[1],f=Object(n.useState)("update item"),O=Object(s.a)(f,2),j=O[0],y=O[1],N=Object(n.useState)(!0),S=Object(s.a)(N,2);S[0],S[1];return e.redirectStockPage?c.a.createElement("div",{id:"stockPage"},c.a.createElement(k,{signOut:e.signOut,userImg:e.userImg}),c.a.createElement("div",{className:"stockpageBody"},c.a.createElement(v,null),c.a.createElement("div",{className:"stockPageMain"},c.a.createElement("div",{id:"heading"},c.a.createElement("div",null,c.a.createElement("h1",null,m.stockName),c.a.createElement("p",null,"added by ",m.adminInCharge),c.a.createElement("p",null,"date added: ",m.date?m.date.split(" ").join("/"):"")),e.admin?c.a.createElement("div",{onClick:function(){g.firestore().collection("approved").doc(e.approvedUser).collection("stock").doc(h).delete().then((function(t){e.storesList.forEach((function(t){g.firestore().collection("approved").doc(e.approvedUser).collection("store").doc(t.storeName).collection("stocks").doc(h).delete().then((function(e){console.log("deleted")})),e.redirectStockPageHandler(!1)}))}))},className:"bin"}):""),c.a.createElement("form",{onSubmit:function(t){t.preventDefault(),y("Updating...");g.firestore().collection("approved").doc(e.approvedUser).collection("stock").doc(h).update(m).then((function(t){e.storesList.forEach((function(t){g.firestore().collection("approved").doc(e.approvedUser).collection("store").doc(t.storeName).collection("stocks").doc(h).update({sellingPrice:m.sellingPrice,purchaseStore:m.purchasePrice})})),y("Update item")}))}},c.a.createElement("div",{id:"inputs"},c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"stockQuantity"},"Item Quantity"),c.a.createElement("input",{onChange:l,type:"number",id:"stockQuantity",placeholder:m.stockQuantity})),c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"stockSelling"},"Selling Price"),c.a.createElement("input",{onChange:l,type:"number",id:"sellingPrice",placeholder:m.sellingPrice})),c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"stockSelling"},"Watch Quantity"),c.a.createElement("input",{onChange:l,type:"number",id:"stockWatchQuantity",placeholder:m.stockWatchQuantity})),c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"stockPrice"},"Purchase Price"),c.a.createElement("input",{onChange:l,type:"number",id:"purchasePrice",placeholder:m.purchasePrice})),c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"stockPrice"},"Purchase Store"),c.a.createElement("input",{onChange:l,type:"text",id:"purchaseStore",placeholder:m.purchaseStore}))),e.admin?c.a.createElement("button",null,j):"")))):c.a.createElement(d.a,{to:"/stocks"})}),w=(a(64),function(e){var t=function(t){t.preventDefault(),e.makeNewStore(r,p)},a=function(e){switch(e.target.id){case"storeName":m(e.target.value);break;case"attendantName":E(Object(i.a)(Object(i.a)({},p),{},{name:e.target.value}));break;case"attendantPin":E(Object(i.a)(Object(i.a)({},p),{},{pin:e.target.value}))}},o=Object(n.useState)(""),l=Object(s.a)(o,2),r=l[0],m=l[1],d=Object(n.useState)({name:"",pin:0}),u=Object(s.a)(d,2),p=u[0],E=u[1],h=Object(n.useState)(e.buttonText),b=Object(s.a)(h,2),g=b[0];b[1];return c.a.createElement("div",{id:"AddStorePage"},c.a.createElement(k,{signOut:e.signOut,userImg:e.userImg}),c.a.createElement("div",{className:"addStoreBody"},c.a.createElement(v,null),c.a.createElement("div",{className:"addStoreMain"},c.a.createElement("div",{className:"heading"},c.a.createElement("h1",null,"Add a new store")),c.a.createElement("form",{onSubmit:t},c.a.createElement("div",{id:"storeData"},c.a.createElement("label",{htmlFor:"storeName"},"Store Name"),c.a.createElement("input",{id:"storeName",type:"text",onChange:a,placeholder:"Pota"})),c.a.createElement("div",{className:"attendantsBox"},c.a.createElement("div",{id:"attendant"},c.a.createElement("label",{htmlFor:"attendantName"},"attendant's name"),c.a.createElement("input",{id:"attendantName",type:"text",onChange:a,placeholder:"Jim"})),c.a.createElement("div",{id:"attendant"},c.a.createElement("label",{htmlFor:"attendantPin"},"attendant's secret pin"),c.a.createElement("input",{id:"attendantPin",type:"number",onChange:a,placeholder:"29384",maxLength:5}))),c.a.createElement("button",{onClick:t},g)))))}),P=(a(65),function(e){var t=function(t){e.deleteStore(t.target.id)},a=Object(n.useState)(""),o=Object(s.a)(a,2);o[0],o[1];return c.a.createElement("div",{className:"managePage"},c.a.createElement(k,{signOut:e.signOut,userImg:e.userImg}),c.a.createElement("div",{className:"managePageBody"},c.a.createElement(v,null),c.a.createElement("div",{className:"managePageMain"},c.a.createElement("div",{id:"storeList"},e.storeList.map((function(e,a){return c.a.createElement("div",{className:"Store",key:a},c.a.createElement(m.b,{to:"/manage/".concat(e.storeName),id:"Store"},c.a.createElement("div",null),c.a.createElement("p",null,e.storeName)),c.a.createElement("div",{id:e.storeName,className:"bin",onClick:t}))}))))))}),C=(a(66),a(67),function(e){return c.a.createElement("div",{className:"expenses"},c.a.createElement("div",{className:"details"},c.a.createElement("div",{className:"expenseHead"},c.a.createElement("h3",null,e.attendant),c.a.createElement("h3",null,"\u20a6".concat(e.cost))),c.a.createElement("h1",null,e.expenseTitle),c.a.createElement("p",null," ",e.expenseBody," "),c.a.createElement("div",{className:"time"},c.a.createElement("p",null,e.expenseDate),c.a.createElement("p",null,e.expenseTime))),c.a.createElement("div",{id:e.id,className:"delBttn",onClick:e.deleteExpense}))}),x=function(e){var t,a,o=Object(d.g)().id,l=new Date,i="".concat(l.getDate()," ").concat(l.getMonth()+1," ").concat(l.getFullYear()),m=g.firestore().collection("approved").doc(e.approvedUser).collection("store").doc(o.toLowerCase()).collection("transactions").doc(i).collection("expenses"),u=function(t){var a=parseInt(t.target.id),n=parseInt(t.target.previousElementSibling.value),c=t.target.dataset.name,l=g.firestore().collection("approved").doc(e.approvedUser).collection("stock").doc(c.toLowerCase()),r=g.firestore().collection("approved").doc(e.approvedUser).collection("store").doc(o).collection("stocks").doc(c.toLowerCase());n>=0?n!==a&&(n>a?l.get().then((function(e){var t=e.data().stockQuantity;t>=parseInt(n)&&(r.update({stockQuantity:n}),l.update({stockQuantity:t-parseInt(n-a)}))})):n<a&&l.get().then((function(e){e.data().stockQuantity,l.update({stockQuantity:e.data().stockQuantity+parseInt(n+a)}),r.update({stockQuantity:n})}))):console.log("nothign was inputed")},p=function(e){switch(e.target.id){case"stocks":I("allStocks");break;case"sales":I("sales");break;case"expenses":I("expenses");break;case"overview":I("overview")}};Object(n.useEffect)((function(){e.setCurrentStore(o);var t=[],a=[],n=[],c=0;g.firestore().collection("approved").doc(e.approvedUser).collection("store").doc(o).collection("stocks").get().then((function(e){e.docs.forEach((function(e){a.push(e.data())})),f(Object(y.a)(a)),a=[]})),g.firestore().collection("approved").doc(e.approvedUser).collection("store").doc(o.toLowerCase()).collection("transactions").doc(i).collection("sales").get().then((function(e){e.forEach((function(e){c+=e.data().totalAmount,t.push(e.data())})),M("\u20a6".concat(c.toLocaleString())),c=0,U(Object(y.a)(t)),t=[]})),g.firestore().collection("approved").doc(e.approvedUser).collection("store").doc(o.toLowerCase()).collection("transactions").doc(i).collection("expenses").get().then((function(e){e.forEach((function(e){n.push(e.data())})),B(Object(y.a)(n)),n=[]}))}),[]);var E=Object(n.useState)([]),h=Object(s.a)(E,2),b=h[0],f=h[1],O=Object(n.useState)("allStocks"),j=Object(s.a)(O,2),S=j[0],I=j[1],w=Object(n.useState)([]),P=Object(s.a)(w,2),x=P[0],U=P[1],Q=Object(n.useState)([]),L=Object(s.a)(Q,2),F=L[0],B=L[1],D=Object(n.useState)(0),T=Object(s.a)(D,2),A=T[0],M=T[1],W=Object(n.useState)(),R=Object(s.a)(W,2),H=R[0],z=R[1];return c.a.createElement("div",{className:"StorePage"},c.a.createElement(k,{signOut:e.signOut,userImg:e.userImg}),c.a.createElement("div",{className:"storePageBody"},c.a.createElement(v,null),c.a.createElement("div",{className:"storePageMain"},c.a.createElement("div",{className:"header"},c.a.createElement("h1",null,o),e.admin?c.a.createElement("h3",{style:{color:"white",fontSize:"1.em",marginBottom:"2em"}},"Today's Profit: ",A):"",c.a.createElement("div",{className:"options"},c.a.createElement("p",{id:"stocks",onClick:p,style:{opacity:"".concat("allStocks"===S?"1":"0.2")}},"current stocks"),c.a.createElement("p",{id:"sales",onClick:p,style:{opacity:"".concat("sales"===S?"1":"0.2")}},"today sales"),c.a.createElement("p",{id:"expenses",onClick:p,style:{opacity:"".concat("expenses"===S?"1":"0.2")}},"today expenses"),c.a.createElement("p",{id:"overview",onClick:p,style:{opacity:"".concat("overview"===S?"1":"0.2")}},"overview"))),c.a.createElement("div",{style:{display:"".concat("allStocks"===S?"block":"none")},className:"allStocks"},b.map((function(e,t){return c.a.createElement("div",{id:"storeStockItem",key:t},c.a.createElement("h3",null,e.stockName),c.a.createElement("input",{type:"number",id:"input",placeholder:e.stockQuantity}),c.a.createElement("div",{"data-name":e.stockName,id:e.stockQuantity,className:"done",onClick:u}))}))),c.a.createElement("div",{style:{display:"".concat("sales"===S?"block":"none")},className:"sales"},c.a.createElement("div",{className:"top"},c.a.createElement("h3",null,"Item Name"),c.a.createElement("h3",null,"Item Quantity"),c.a.createElement("h3",null,"Updated Date")),x.length>0?x.map((function(e){return c.a.createElement(N,{location:o,itemId:"/".concat(e.id),itemName:e.stockName,itemQuantity:e.stockQuantity,lastUpdate:e.date,itemLastUpdate:"0"})})):c.a.createElement("h1",{style:(t={color:"white",fontSize:"1em",textTransform:"uppercase",width:"fit-content",padding:"0.5em 0.9em",backgroundColor:"white"},Object(r.a)(t,"color","black"),Object(r.a)(t,"marginTop","2em"),Object(r.a)(t,"borderRadius","300px"),t)},"no sales to display")),c.a.createElement("div",{style:{display:"".concat("expenses"===S?"block":"none")},className:"expense"},F.length>0?F.map((function(e){return c.a.createElement(C,{cost:e.expenses.cost,attendant:e.attendant,expenseTitle:e.expenses.title,expenseBody:e.expenses.body,expenseDate:e.date,expenseTime:e.time,id:e.id,deleteExpense:function(){return function(e){m.where("id","==",e).get().then((function(e){e.forEach((function(e){e.ref.delete()}))}))}(e.id)}})})):c.a.createElement("h1",{style:(a={color:"white",fontSize:"1em",textTransform:"uppercase",width:"fit-content",padding:"0.5em 0.9em",backgroundColor:"white"},Object(r.a)(a,"color","black"),Object(r.a)(a,"marginTop","2em"),Object(r.a)(a,"borderRadius","300px"),a)},"no expenses to display")),c.a.createElement("div",{className:"overview",style:{display:"".concat("overview"===S?"block":"none")}},c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),console.log(H)}},c.a.createElement("input",{type:"date",value:"1998-11-25",onChange:function(e){var t=e.target.value;z(t)}}),c.a.createElement("button",null)),c.a.createElement("div",{className:"top"},c.a.createElement("h3",null,"Item Name"),c.a.createElement("h3",null,"Item Quantity"),c.a.createElement("h3",null,"Updated Date"))))))},U=(a(68),function(e){var t=new Date,a="".concat(t.getDate()," ").concat(t.getMonth()+1," ").concat(t.getFullYear()),o=Object(d.g)().id,l=g.firestore().collection("approved").doc(e.approvedUser).collection("store").doc(e.storeName).collection("transactions").doc(a).collection("sales");Object(n.useEffect)((function(){g.firestore().collection("approved").doc(e.approvedUser).collection("store").doc(e.storeName).collection("transactions").doc(a).collection("sales").where("id","==",parseInt(o)).get().then((function(e){e.docs.forEach((function(e){u(e.data())}))}))}),[]);var r=Object(n.useState)(),i=Object(s.a)(r,2),m=i[0],u=i[1],p=Object(n.useState)(!0),E=Object(s.a)(p,2),h=E[0],b=E[1],f=Object(n.useState)(""),v=Object(s.a)(f,2),O=v[0],j=v[1];return h?c.a.createElement("div",{id:"soldstockpage"},c.a.createElement(k,{signOut:e.signOut,userImg:e.userImg}),m?c.a.createElement("div",{className:"soldstockMain"},c.a.createElement("div",{className:"details"},c.a.createElement("div",{className:"itemDetails"},c.a.createElement("div",{className:"itemDetailsHeader"},c.a.createElement("h3",{className:"label"},"Item Details"),c.a.createElement("div",{onClick:function(){var t=window.location.href.split("/").length-2,a=window.location.href.split("/")[t];j(a),l.where("id","==",parseInt(o)).get().then((function(t){t.forEach((function(t){t.ref.delete().then((function(){g.firestore().collection("approved").doc(e.approvedUser).collection("store").doc(e.storeName).collection("stocks").doc(m.stockName.toLowerCase()).get().then((function(e){e.ref.update({stockQuantity:g.firestore.FieldValue.increment(m.stockQuantity)}).then((function(){b(!1)}))}))}))}))}))},className:"del"})),c.a.createElement("div",{className:"detailItems"},c.a.createElement("div",{className:"inputItems"},c.a.createElement("label",{htmlFor:"stockName"},"Stock Name"),c.a.createElement("input",{id:"stockName","data-fill":"false",value:m.stockName})),c.a.createElement("div",{className:"inputItems"},c.a.createElement("label",{htmlFor:"attendant"},"Attendant"),c.a.createElement("input",{id:"attendant","data-fill":"false",value:m.staffInCharge})),c.a.createElement("div",{className:"inputItems"},c.a.createElement("label",{htmlFor:"Quantity"},"Quantity"),c.a.createElement("input",{id:"Quantity","data-fill":"false",value:m.stockQuantity})),c.a.createElement("div",{className:"inputItems"},c.a.createElement("label",{htmlFor:"sellingPrice"},"Selling Price"),c.a.createElement("input",{id:"sellingPrice","data-fill":"false",value:m.sellingPrice})),c.a.createElement("div",{className:"inputItems"},c.a.createElement("label",{htmlFor:"purchasePrice"},"Purchase Price"),c.a.createElement("input",{id:"purchasePrice","data-fill":"false",value:m.purchasePrice})),c.a.createElement("div",{className:"inputItems"},c.a.createElement("label",{htmlFor:"totalPrice"},"Total Price"),c.a.createElement("input",{id:"totalPrice","data-fill":"false",value:m.totalAmount})),c.a.createElement("div",{className:"inputItems"},c.a.createElement("label",{htmlFor:"totalPrice"},"IMEI"),c.a.createElement("input",{id:"IMEI","data-fill":"false",value:m.imei})),c.a.createElement("div",{className:"inputItems"},c.a.createElement("label",{htmlFor:"dateofsale"},"Date Of Sale"),c.a.createElement("input",{id:"dateofsale","data-fill":"false",value:a.split(" ").join("/")})),c.a.createElement("div",{className:"inputItems"},c.a.createElement("label",{htmlFor:"timesold"},"Time Sold"),c.a.createElement("input",{id:"dateofsale","data-fill":"false",value:m.time}))),c.a.createElement("h3",{className:"label",style:{marginTop:"3em"}},"Customer Details"),c.a.createElement("div",{id:"detailItems"},c.a.createElement("div",{className:"inputItems"},c.a.createElement("label",{htmlFor:"customerName"},"Customer Name"),c.a.createElement("input",{id:"customerName","data-fill":"false",value:m.customerName})),c.a.createElement("div",{className:"inputItems"},c.a.createElement("label",{htmlFor:"customerAddress"},"Customer Address"),c.a.createElement("input",{id:"customerAddress","data-fill":"false",value:m.customerAddress})),c.a.createElement("div",{className:"inputItems"},c.a.createElement("label",{htmlFor:"customerPhoneNumber"},"Customer Phone No."),c.a.createElement("input",{id:"stoccustomerPhoneNumberkName","data-fill":"false",value:m.customerPhoneNumber}))))),c.a.createElement("div",{className:"printWindow"})):c.a.createElement("h2",null,"fetching data")):c.a.createElement(d.a,{to:"/manage/".concat(O)})}),Q=function(){var e=g.auth().currentUser,t=function(e){b(e)},a=function(e){g.firestore().collection("approved").doc("bolu").collection("store").doc(e).delete().then((function(e){}))};Object(n.useEffect)((function(){var e=[];g.firestore().collection("approved").doc("bolu").collection("store").where("show","==",!0).get().then((function(t){t.docs.forEach((function(t){e.push(t.data())})),pe(e),e=[]}))}),[]);var o=function(e){oe(e)},l=function(t,a){if(t.length>0&&a.pin.length>4){var n=new Date,c="".concat(n.getDate()," ").concat(n.getMonth()," ").concat(n.getFullYear());ie("processing");g.firestore().collection("approved").doc("bolu").collection("store").doc(t.toLowerCase()).set({storeName:t.toLowerCase(),attendants:[{name:a.name,pin:a.pin}],createdBy:e.displayName,dateAdded:c,show:!0}).then((function(e){g.firestore().collection("approved").doc("bolu").collection("stock").get().then((function(e){e.docs.forEach((function(e){g.firestore().collection("approved").doc("bolu").collection("store").doc(t.toLowerCase()).collection("stocks").doc(e.data().stockName.toLowerCase()).set(Object(i.a)(Object(i.a)({},e.data()),{},{stockQuantity:0})).then((function(e){}))}))})),ie("done"),setTimeout((function(){ie("create store")}),1e3)}))}},u=function(t){var a=new Date;X("please wait");var n="".concat(a.getDate()," ").concat(a.getMonth()," ").concat(a.getFullYear());g.firestore().collection("approved").doc("bolu").collection("stock").doc(t.stockName.toLowerCase()).set(Object(i.a)(Object(i.a)({},t),{},{date:n,id:"".concat(a.getTime()),adminInCharge:e.displayName})).then((function(c){ue.forEach((function(c){g.firestore().collection("approved").doc("bolu").collection("store").doc(c.storeName).collection("stocks").doc(t.stockName.toLowerCase()).set(Object(i.a)(Object(i.a)({},t),{},{date:n,id:"".concat(a.getTime()),adminInCharge:e.displayName,stockQuantity:0}))})),X("done"),q("Stock has been added successfully"),K(!0);var o=setInterval((function(){K(!1),X("add to store"),l()}),1e3),l=function(){clearInterval(o)}})).catch((function(e){q("There was an error, try again.")}))},p=Object(n.useState)(""),E=Object(s.a)(p,2),h=E[0],b=E[1],v=function(e){g.auth().signOut().then((function(){return C(!1)})).catch((function(e){console.error(e)}))};g.auth().onAuthStateChanged((function(e){e?(g.auth().currentUser.displayName.toLowerCase().split(" ").forEach((function(e){"akpan"!==e&&"james"!==e&&"samuel"!==e&&"boluwatife"!==e||ke(!0)})),C(!0),B(e.photoURL)):C(!1)}));var k=Object(n.useState)(!1),y=Object(s.a)(k,2),N=y[0],C=y[1],Q=Object(n.useState)(""),L=Object(s.a)(Q,2),F=L[0],B=L[1],D=Object(n.useState)(0),T=Object(s.a)(D,2),A=T[0],M=(T[1],Object(n.useState)({})),W=Object(s.a)(M,2),R=W[0],H=(W[1],Object(n.useState)("Stock has been added successfully")),z=Object(s.a)(H,2),Y=z[0],q=z[1],G=Object(n.useState)(!1),J=Object(s.a)(G,2),V=J[0],K=J[1],Z=Object(n.useState)("add to store"),$=Object(s.a)(Z,2),_=$[0],X=$[1],ee=Object(n.useState)([]),te=Object(s.a)(ee,2),ae=(te[0],te[1],Object(n.useState)(!0)),ne=Object(s.a)(ae,2),ce=ne[0],oe=ne[1],le=Object(n.useState)("create store"),re=Object(s.a)(le,2),se=re[0],ie=re[1],me=Object(n.useState)([]),de=Object(s.a)(me,2),ue=de[0],pe=de[1],Ee=Object(n.useState)([]),he=Object(s.a)(Ee,2),be=he[0],ge=(he[1],Object(n.useState)(!1)),fe=Object(s.a)(ge,2),ve=fe[0],ke=fe[1];return N?c.a.createElement(m.a,null,c.a.createElement(d.b,null,c.a.createElement(d.a,{to:"/store"})),c.a.createElement(d.d,null,c.a.createElement(d.b,{exact:!0,path:"/store",component:function(){var e;return c.a.createElement(O,(e={admin:ve,loggedIn:N,userImg:F,cashTotal:A,signOut:v},Object(r.a)(e,"cashTotal",R.cashTotal),Object(r.a)(e,"cashReturn",R.cashReturn),Object(r.a)(e,"cashProfit",R.cashProfit),e))}}),c.a.createElement(d.b,{path:"/addstock",component:function(){return c.a.createElement(j,{loggedIn:N,signOut:v,userImg:F,approvedUser:"bolu",PushItem:u,addedStock:Y,ShowSucess:V,addStockBttn:_})}}),c.a.createElement(d.b,{exact:!0,path:"/stocks",component:function(){return c.a.createElement(S,{loggedIn:N,signOut:v,userImg:F,approvedUser:"bolu"})}}),c.a.createElement(d.b,{exact:!0,path:"/stocks/:id",component:function(){return c.a.createElement(I,{admin:ve,storesList:ue,loggedIn:N,signOut:v,userImg:F,approvedUser:"bolu",redirectStockPage:ce,redirectStockPageHandler:o})}}),c.a.createElement(d.b,{exact:!0,path:"/addstore",component:function(){return c.a.createElement(w,{loggedIn:N,signOut:v,userImg:F,approvedUser:"bolu",makeNewStore:l,buttonText:se})}}),c.a.createElement(d.b,{exact:!0,path:"/manage",component:function(){return c.a.createElement(P,{loggedIn:N,signOut:v,userImg:F,approvedUser:"bolu",storeList:ue,deleteStore:a})}}),c.a.createElement(d.b,{exact:!0,path:"/manage/:id",component:function(){return c.a.createElement(x,{admin:ve,setCurrentStore:t,StoreStock:be,loggedIn:N,signOut:v,userImg:F,approvedUser:"bolu"})}}),c.a.createElement(d.b,{path:"/manage/:id/:id",component:function(){return c.a.createElement(U,{storeName:h,loggedIn:N,signOut:v,userImg:F,approvedUser:"bolu"})}}))):c.a.createElement(m.a,{className:"App"},c.a.createElement(d.d,null,c.a.createElement(d.b,{exact:!0,path:"/",component:function(){return c.a.createElement(f,{approvedUser:"bolu"})}}),c.a.createElement(d.b,{exact:!0,path:"/store",component:O}),c.a.createElement(d.b,{path:"/addstock",component:j}),c.a.createElement(d.b,{path:"/",component:S})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(Q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.9900db5a.chunk.js.map